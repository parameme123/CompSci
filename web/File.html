<html>

<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">

<script src="https://code.jquery.com/jquery-3.2.1.min.js"integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="crossorigin="anonymous"></script>


</head>
<body>


<div class="container">
<h1>Send your file</h1>
<form enctype="multipart/form-data">
 <div class="form-group">
<label for="to"> SendTo </label>
<input class="form-control" name="to" id="id"> </input>
</div>

<div class="form-group">
<label for="subject"> Subject </label>
<input  class="form-control" name="subject" id="subject"> </input>
</div>


<div class="form-group">
<label for="file">  File</label>
<input  type="file" class="form-control" name="file" id="file" placeholder="" >
<input  onclick="uploadEn()" type="submit" class="form-control btn btn-primary" id="go" name="go" value="Encrypt">
<input  onclick="uploadDe()" type="submit" class="form-control btn btn-primary" id="go" name="go" value="Dencrypt">
</div>
</form>

<div class="response" th:fragment="response" th:text="${code}"></div>

<script>

  $("form").submit(function(e){
      e.preventDefault();
   });
    
    function uploadEn(){
       var form = new FormData($("form")[0]);
        $.ajax({
            type: 'POST',
            processData: false,
            contentType: false,
            data: form,
            url: 'uploadEn',
            success: function(data) {   
             $( "div.response" ).replaceWith(data); 
        }});
    
    }
    
     function uploadDe(){
        var form = new FormData($("form")[0]);
        $.ajax({
            type: 'POST',
            processData: false,
            contentType: false,
            data: form,
            url: 'uploadDe',
            success: function(data) {   
             $( "div.response" ).replaceWith(data); 
        }});
    
    }
    
    
    
   

</script>


</div>
</body>
</html>